# 📚 PDF 분할 편집기

125×175mm 책 출판을 위한 PDF 편집 프로그램입니다. 가로 PDF를 분할하여 여백을 고려한 책 형식으로 변환할 수 있습니다.

## 🚀 주요 기능

- **정확한 크기 변환**: 125×175mm 책 크기로 정확히 변환
- **PDF 분할**: 가로 PDF를 가운데를 기준으로 자동 분할
- **순차적 페이지 순서**: 분할된 페이지가 1,2,3,4 순서로 배치
- **여백 설정**: 상단, 하단, 좌측, 우측 여백을 자유롭게 조정
- **PDF 분석**: 페이지 수, 이미지 개수, 텍스트 내용 분석
- **웹 인터페이스**: 사용하기 쉬운 Streamlit 기반 웹 인터페이스

## 📦 설치 방법

### 1. 저장소 클론
```bash
git clone <repository-url>
cd pdfResize
```

### 2. 가상환경 생성 (권장)
```bash
python -m venv venv
# Windows
venv\Scripts\activate
# macOS/Linux
source venv/bin/activate
```

### 3. 패키지 설치
```bash
pip install -r requirements.txt
```

## 🎯 사용 방법

### 직접 실행
```bash
streamlit run split_pdf_editor.py
```

### 통합 실행 스크립트
```bash
python run.py
```

### 웹 브라우저에서 접속
```
http://localhost:8501
```

## 📋 사용 단계

1. **PDF 파일 업로드**: 편집할 PDF 파일을 선택합니다.
2. **여백 설정**: 사이드바에서 상단, 하단, 좌측, 우측 여백을 조정합니다.
3. **분할 방향 선택**: 
   - **세로 분할 (좌우 분할)**: 가로 페이지를 좌우로 나눕니다.
   - **가로 분할 (상하 분할)**: 가로 페이지를 상하로 나눕니다.
4. **분할**: 'PDF 분할하기' 버튼을 클릭합니다.
5. **다운로드**: 분할된 PDF를 다운로드합니다.

## 📏 여백 설정 가이드

### 여백의 의미
- **위**: 모든 페이지의 상단 여백
- **아래**: 모든 페이지의 하단 여백
- **바깥쪽**: 홀수 페이지(1,3,5...)의 왼쪽, 짝수 페이지(2,4,6...)의 오른쪽 여백
- **안쪽**: 홀수 페이지(1,3,5...)의 오른쪽, 짝수 페이지(2,4,6...)의 왼쪽 여백 (제본 부분)

### 권장 여백 설정

| 책 유형 | 위 | 아래 | 바깥쪽 | 안쪽 |
|---------|----|----|--------|------|
| 일반 소설 | 20mm | 15mm | 20mm | 15mm |
| 참고서 | 15mm | 15mm | 20mm | 20mm |
| 만화책 | 10mm | 10mm | 15mm | 12mm |
| 잡지 | 12mm | 12mm | 18mm | 15mm |

## 🎛️ 페이지 조정 기능

### 축소 및 이동
- **축소 비율**: 페이지 내용의 크기를 0.10~2.00 범위에서 소수점 2자리까지 정밀 조절 (여백은 그대로 유지)
- **좌우 이동**: 페이지를 좌우로 최대 20mm 이동
- **상하 이동**: 페이지를 상하로 최대 20mm 이동
- **홀수/짝수 분리**: 홀수 페이지와 짝수 페이지를 각각 독립적으로 설정 가능

### 활용 예시
- **축소**: 여백을 더 넓게 만들고 싶을 때 (예: 0.85로 설정하여 15% 축소)
- **확대**: 내용을 더 크게 보이게 하고 싶을 때 (예: 1.15로 설정하여 15% 확대)
- **이동**: 페이지 내용을 특정 방향으로 조정하고 싶을 때
- **홀짝 차별화**: 제본을 고려하여 홀수/짝수 페이지를 다르게 조정

## ⚠️ 주의사항

- **가로 페이지 분할**: 가로 형태의 페이지는 자동으로 2개 페이지로 분할됩니다.
- **세로 페이지**: 세로 형태의 페이지는 그대로 1개 페이지로 처리됩니다.
- **분할 기준**: 가로 페이지는 정확히 가운데를 기준으로 분할됩니다.
- **페이지 순서**: 분할된 페이지는 1,2,3,4 순서로 배치됩니다.
- **품질**: 원본 PDF의 품질이 좋을수록 결과물도 좋습니다.

## 🔄 분할 방식 설명

- **세로 분할 (좌우 분할)**: 가로 페이지를 가운데를 기준으로 좌우로 나눕니다.
  - 좌측 → 페이지 1, 우측 → 페이지 2
- **가로 분할 (상하 분할)**: 가로 페이지를 가운데를 기준으로 상하로 나눕니다.
  - 상단 → 페이지 1, 하단 → 페이지 2

## 🛠️ 기술 스택

- **Python 3.8+**
- **Streamlit**: 웹 인터페이스
- **PyMuPDF (fitz)**: PDF 처리 및 분석
- **ReportLab**: PDF 생성
- **Pillow**: 이미지 처리
- **PyPDF2**: PDF 읽기/쓰기

## 📁 파일 구조

```
pdfResize/
├── split_pdf_editor.py    # PDF 분할 편집기 (메인)
├── requirements.txt       # 필요한 패키지 목록
├── run.py                # 통합 실행 스크립트
└── README.md             # 이 파일
```

## 🔧 문제 해결

### 설치 오류
```bash
# Windows에서 PyMuPDF 설치 오류 시
pip install --upgrade pip
pip install PyMuPDF --no-cache-dir
```

### 실행 오류
```bash
# 포트 충돌 시 다른 포트 사용
streamlit run split_pdf_editor.py --server.port 8502
```

## 📞 지원

문제가 발생하거나 개선 사항이 있으시면 이슈를 등록해 주세요.

## 📄 라이선스

이 프로젝트는 MIT 라이선스 하에 배포됩니다. 